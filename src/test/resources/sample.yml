syncer:

  input:
    mysql-masters:
      - connection:
          address: 192.168.1.100
          port: 1234
          user: root
          password-file: password
        schema:
          name: "*"
          tables:
            - name: affair
              row-name: [id, name]
            - name: file
              row-name: [id, name, uploader]
            - name: folder
              row-name: [id, name, uploader]

      - connection:
          address: 192.168.1.100
          port: 1235
          user: root
          password-file: password
        schema:
          name: "*"
          tables:
            - name: affair
              row-name: [id, name]
            - name: file
              row-name: [id, name, uploader]
            - name: folder
              row-name: [id, name, uploader]

# input result class: com.github.zzt93.syncer.common.SyncData

  filter:
    - if:
        condition: "%{table} == affair"
        actions:
          - add-field:
            - field: "time"
              value:


# filter result class: com.github.zzt93.syncer.common.SyncData


  output:
    elasticsearch:
      connection:
        cluster-name: elasticsearch
        cluster-nodes: ["192.168.1.100:9300"]
        user: elastic-user # optional
        password-file: es-password # optional
      index-mapping: # mapping from input data to index json
        index: "%{table}-%{time}" # default %{schema}
        type: "%{table}" # default %{table}
        document-id: "%{id}" # default %{id}

    http:
      connection:
        address: 192.168.1.100
        port: 9700
      output-mapper: x.y.z.mapper

